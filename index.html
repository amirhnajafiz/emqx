<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>OAuth 2.0 Example</title>
</head>
<body>
  <label for="clientIdInput">Enter Client ID:</label>
  <input type="text" id="clientIdInput">
  <br>
  <button onclick="authenticate()">Authorize</button>
  
  <script>
    function authenticate() {
      const clientID = document.getElementById('clientIdInput').value;
      const redirectURI = window.location.href; // Get current page URL as the redirect URI
      const scope = 'user_profile,user_media';
      const authURL = `https://api.instagram.com/oauth/authorize?client_id=${clientID}&redirect_uri=${redirectURI}&scope=${scope}&response_type=code`;
      
      window.location.href = authURL;
    }
    
    function exchangeCodeForToken(authorizationCode) {
      fetch(`https://graph.instagram.com/access_token?client_id=${clientID}&redirect_uri=${redirectURI}&client_secret=YOUR_CLIENT_SECRET&code=${authorizationCode}`, {
        method: 'POST'
      })
      .then(response => response.json())
      .then(data => {
        // Process the obtained access token
        console.log('Access Token:', data.access_token);
      })
      .catch(error => {
        console.error('Error:', error);
      });
      // Replace YOUR_CLIENT_SECRET and perform the fetch request
    }
    
    window.onload = function() {
      const urlParams = new URLSearchParams(window.location.search);
      const authorizationCode = urlParams.get('code');
      
      if (authorizationCode) {
        exchangeCodeForToken(authorizationCode);
      }
    }
  </script>
</body>
</html>

